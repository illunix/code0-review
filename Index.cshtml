@model Ravency.Areas.Panel.SubAreas.Configuration.PaymentMethods.Index.Model
@{
    ViewData["Title"] = "Payment methods";
    Layout = "_LayoutAdmin";
}

<div>
    <vc:edit-payment-method-modal></vc:edit-payment-method-modal>
</div>
<div class="content-header">
    <div class="row mb-2">
        <div class="col-sm-0">
            <h3 class="m-0 font-weight-light">Payment methods</h3>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <table class="table table-striped table-bordered" id="paymentMethods-table">
                    <thead>
                        <tr>
                            <th>Payment method name</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var paymentMethod in Model.PaymentMethods)
                        {
                            <tr>
                                <td>@paymentMethod.Name</td>

                                @if (paymentMethod.IsActive)
                                {
                                    <td>Enabled</td>
                                }
                                else
                                {
                                    <td>Disabled</td>
                                }

                                <td class="project-actions text-right">
                                    <a class="btn btn-info btn-sm btn-edit" href="#" data-id="@paymentMethod.Id" data-is-active="@paymentMethod.IsActive" data-edit-button data-toggle="modal" data-target="#modal-edit">
                                        <i class="fas fa-pencil-alt" title="Edit">
                                        </i>
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts
{
    <script src="~/lib/datatables/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript">
        $('.btn-edit').click(function () {
            $('[data-selected-paymentMethodId]').val($(this).data('id'));
            if ($(this).data('is-active') == 'True') {
                $("#is-active").val('True');
            } else {
                $("#is-active").val('False');
            }
        });

        $('#paymentMethods-table').DataTable({
            "searching": false,
            "responsive": true,
            "info": false,
            "lengthChange": false,
            "paging": false
        });
    </script>
}